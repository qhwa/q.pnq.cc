
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>qhwa's blog</title>
	<meta name="author" content="qhwa">

	
	<meta name="description" content="没错，这是我的新伙伴，今天正式开始我的骑行了，2012的一大目标就是锻炼身体！ 今天在网上看中的，下午联系，晚上就提车了，真是爽快！
因为信任骑行的人，我对车主“死魂灵”是完完全全的信任，虽然我还是车盲一个，哈哈！
提车的时候，死魂灵无微不至的交代，各种经验之谈浓缩在短短的十分钟之内，从车的调节 &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="qhwa's blog" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">qhwa's blog</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:q.pnq.cc">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
		<a class="github" href="https://github.com/qhwa" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:q.pnq.cc">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/02/09/say-hello-to-my-new-mate/">
		
			Say Hello to My New Mate</a>
	</h2>
	<div class="entry-content">
		<p>没错，这是我的新伙伴，今天正式开始我的骑行了，2012的一大目标就是锻炼身体！</p>

<p><img src="http://q.pnq.cc/wp-content/uploads/2012/02/DSC_0824-500x752.jpg" alt="bike" />
<img src="http://q.pnq.cc/wp-content/uploads/2012/02/DSC_0823-500x332.jpg" alt="bike" /></p>

<p>今天在网上看中的，下午联系，晚上就提车了，真是爽快！
因为信任骑行的人，我对车主“死魂灵”是完完全全的信任，虽然我还是车盲一个，哈哈！
提车的时候，死魂灵无微不至的交代，各种经验之谈浓缩在短短的十分钟之内，从车的调节，到刹车的时候，还有分别时候的关于安全的交代。。我囫囵吞枣般地都短暂记住了，那个场景让我想起了小说里的场面：一个武功高手在传内力给一个战斗力只有5的小朋友。。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-02-09T00:00:00-08:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/11/29/generating-thumbnails/">
		
			Ubuntu下在命令行批量生成缩略图</a>
	</h2>
	<div class="entry-content">
		

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c"># 准备工作：安装 imagemagick</span>
</span><span class='line'>sudo apt-get install imagemagick
</span><span class='line'><span class="nb">cd</span> /path/to/big/images <span class="c">#大图所在的目录</span>
</span><span class='line'>
</span><span class='line'><span class="c">#创建小图对应的目录结构</span>
</span><span class='line'>find . -type d -print -exec mkdir <span class="s1">&#39;../small/{}&#39;</span> -p <span class="se">\\</span>;
</span><span class='line'>
</span><span class='line'><span class="c">#批量转换! 等比例缩小到320x320之内</span>
</span><span class='line'>find . -type f -name <span class="s1">&#39;*.jpg&#39;</span> -print -exec <span class="se">\\</span>
</span><span class='line'>convert <span class="s1">&#39;{}&#39;</span> -resize 320x320 <span class="s1">&#39;../small/{}&#39;</span> <span class="se">\\</span>;
</span></code></pre></td></tr></table></div></figure>


<p>这样小图都会按原先的目录结构，在上级目录的small目录出现了</p>

<p>其实<a href="http://www.imagemagick.org">imagemagick</a>是一个超级神器，上面只是它很简单的一个应用&hellip;</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-11-29T00:00:00-08:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/10/20/make-vim-work-with-ubuntu/">
		
			让VIM与Ubuntu和睦相处</a>
	</h2>
	<div class="entry-content">
		<p><a href="http://www.vim.org">Vim</a>和<a href="http://www.ubuntu.com">Ubuntu</a>都是我的好朋友，不过他们之间好像有点不和睦。在<a href="http://www.ubuntu.com">Ubuntu</a>11.04下gvim的菜单不能集成进全局菜单条(global menu)，而在<a href="http://www.ubuntu.com">Ubuntu</a>11.10下gvim打开之后会非常卡。需要调解一下 :D</p>

<h2>解决gvim在<a href="http://www.ubuntu.com">Ubuntu</a> 11.04中菜单显示的问题</h2>

<p>执行gvim时，gvim的菜单不能立刻显示出来。并且报错：</p>

<blockquote><p><strong> (gvim:15150): WARNING </strong>: Unable to register window with path &lsquo;/com/canonical/menu/4200024&rsquo;: Timeout was reached</p></blockquote>

<p>解决方法是运行：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">echo</span> <span class="s1">&#39;alias gvim=&quot;env UBUNTU_MENUPROXY=0 gvim&quot;&#39;</span> &gt;&gt; ~/.bashrc
</span><span class='line'><span class="nb">source</span> ~/.bashrc
</span></code></pre></td></tr></table></div></figure>


<hr />

<h2>解决gvim在<a href="http://www.ubuntu.com">Ubuntu</a> 11.10中导致电脑很卡的问题</h2>

<p>运行：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">echo</span> <span class="s1">&#39;alias gvim=&quot;gvim -f&quot;&#39;</span> &gt;&gt; ~/.bashrc
</span><span class='line'><span class="nb">source</span> ~/.bashrc
</span></code></pre></td></tr></table></div></figure>


<hr />

<h2>解决提示“pixmap”的问题</h2>

<p>如果终端中提示：</p>

<blockquote><p>(gvim:2353): Gtk-WARNING **: 无法在模块路径中找到主题引擎：“pixmap”，</p></blockquote>

<p>解决方法是运行：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>sudo apt-get install gtk2-engines-pixbuf
</span></code></pre></td></tr></table></div></figure>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-10-20T00:00:00-07:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/08/20/auto-update-files-on-remote-git-repo/">
		
			自动更新git目录</a>
	</h2>
	<div class="entry-content">
		<p>假设我们有一批文件用<a href="http://git-scm.com">Git</a>在管理，然后在服务器上做了一个repo。团队成员先从服务器pull下来最新的版本，然后在本地修改并提交，最后push回服务器，这是很典型的应用场景。</p>

<p>假如现在需要服务器端收到客户端的push后，能自动更新repo目录里面的文件，听起来很简单，用钩子就可以了，不过还是遇到一些问题，好在最后在google帮助下搞定。</p>

<p>总结的步骤如下：</p>

<p>1.先在服务器端运行设置，接受提交</p>

<pre><code>git config receive.denyCurrentBranch ignore
</code></pre>

<p>2.把以下内容保存为服务器端repo中的钩子文件（<strong>.git/hooks/post-receive</strong>）</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'><span class="nb">cd</span> ..
</span><span class='line'>env -i git reset --hard
</span></code></pre></td></tr></table></div></figure>


<p>3.设置权限为可运行</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>chmod a+x post-receive
</span></code></pre></td></tr></table></div></figure>


<p>好了，这样每当服务器收到客户端的push，就会自动更新文件列表了</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-08-20T00:00:00-07:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/07/01/arrayvpn-in-ubuntu/">
		
			Ubuntu下使用Array SSL VPN客户端连接VPN网络</a>
	</h2>
	<div class="entry-content">
		<p>公司用的<a href="http://www.arraynetworks.com.cn/">Array Networks</a>提供的SSL VPN系统，vpn网页在Ubuntu下无法正常启动Java Applet。幸好得到了<a href="http://wenyue.me/blog/">wenyue</a>的指点，找到了方法。如果你也是Ubuntu系统，需要连接到Array SSL VPN，可以参考一下。</p>

<h2>安装步骤</h2>

<p>1.下载<a href="http://www.arraynetworks.com.cn/">Array Networks</a>提供的客户端程序 array_vpnc.bin</p>

<pre><code>#!bash
sudo apt-get install libc6-i386 #64位系统也是这个包
wget http://q.pnq.cc/uploads/array_vpnc.bin
chmod a+x array_vpnc.bin
</code></pre>

<p>2.下载这个小脚本到同个目录</p>

<pre><code>#!bash
#下载辅助脚本
wget http://q.pnq.cc/uploads/vpn-for-common.sh -O vpn.sh
#里面会包含重要信息，我们不想别人随便访问
chmod 700 vpn.sh
</code></pre>

<p>3.修改vpn.sh中的配置，将vpn_host、user、key修改为你的配置</p>

<pre><code>#!bash
vpn_host=your_vpn_server
user=your_user_name
key=your_static_passwd #密码中不变的部分
</code></pre>

<h2>使用方法：</h2>

<pre><code>#!bash
./vpn.sh
</code></pre>

<p>然后根据提示输入，当看到这个提示时，就说明成功了：</p>

<blockquote><p>array_vpnc: VPN TUNNEL SUCCESSFUL!</p></blockquote>

<p>Have fun!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-07-01T00:00:00-07:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/03/31/is-flash-still-a-good-solution-for-web/">
		
			Flash真的适合做网站应用吗？</a>
	</h2>
	<div class="entry-content">
		两年前，我们开发了一套基于Flash的文件（主要是图片）上传RIA应用，提供给阿里巴巴的用户使用。如果你使用过Wordpress或flickr上传图片，你应该已经用过类似的产品。这个程序基于<a title="YUI Uploader" href="http://developer.yahoo.com/yui/uploader/">YUI Uploader</a>开发，增加了一个实用的功能——在客户端先将图片缩小，再上传到服务器。用户用数码相机拍摄的照片往往有600万以上的像素，但产品图片放到阿里巴巴网站上显示，并不需要这么大的像素，通常等比例缩小到1024×1024之内就可以了。借助于Flash对图片先缩小再上传的技术，我们在没有增加服务器投入的情况下，将原先上传图片的尺寸限制由250KB/张提升到了5MB/张。同时，Flash上传还比传统HTML表单方式上传有更好的体验，例如可以多选一批文件同时上传、可以实时展示上传进度、选择文件时可以过滤非图片文件。

<img class="alignnone size-full wp-image-512" style="margin: 5px; border: 1px solid black;" title="Screenshot" src="http://q.pnq.cc/wp-content/uploads/2011/03/Screenshot.png" alt="" width="782" height="352" />

这个组件获得了很大的成功。上线后不久，阿里巴巴网站上用户的图片上传数量由日均1万张左右上升至日均15万张左右。但在这个上传应用投入应用的两年中，我们遇到了各种问题。
<h2>1. bug</h2>
<img class="alignnone size-medium wp-image-508" title="man062" src="http://q.pnq.cc/wp-content/uploads/2011/03/man062-500x494.jpg" alt="" width="500" height="494" />

在<a title="Flash在某些多标签浏览器中的“伪沙箱”问题" href="http://q.pnq.cc/archives/443">基于IE多标签浏览器中的伪沙箱问题</a>就不说了，最严重的是cookie的问题。使用FileReference.upload的方式上传文件，http请求中附带的cookie信息不一定是当前浏览器进程的cookie，在Firefox、chrome等非IE浏览器中非常严重，可能传输的是IE中的cookie。即便是IE，也可能传输的cookie内容和当前页面的cookie记录不符合。这直接导致服务器端在收到文件之后的安全验证中失败。而对于阿里巴巴这样的大型网站，有比较成熟的java web框架，要去掉对cookie的依赖非常麻烦。于是结果就是，首先我们只有在用户使用IE系浏览器的时候才使用Flash上传，其次我们隔三岔五的还会收到使用IE的某些客户的投诉，在花费了大量的时间排查之后，我发现是由于cookie的问题导致上传失败。<a href="http://cookbooks.adobe.com/post_Why_is_session_info__cookies__not_sent_when_upload-12029.html">这个bug</a>已经存在很多年，但是随着Flash从9升级到10，许多版本过去了，问题依然没有被解决。对于闭源的Flash，我们也帮不上忙。
<h2>2.性能</h2>
<img class="alignnone size-medium wp-image-498" title="Mignight_Run_by_Orikon" src="http://q.pnq.cc/wp-content/uploads/2011/03/Mignight_Run_by_Orikon-500x340.jpg" alt="" width="500" height="340" />

相对于现今数码相机的像素量，5MB的大小限制非常保守。但大于5M的时候，在一些低配置的电脑上，读取文件内容的时候就会发生浏览器假死现象。假死很容易导致浏览器崩溃，所以我们采取了保守的限制——5MB。

另外一个性能消耗是将BitmapData编码成JPEG文件的时候。Adobe提供了JPEGEncoder，但由于是Array实现的，所以性能是个问题。编码一个2880×2880的图片在一台中等配置的电脑上大约需要15秒时间。

我用Vector改写了这个类，时间缩短为3.5秒左右。使用Alchemy，时间进一步缩短到1.5秒左右。但还是不够安全，所以最后采用了异步Vector的方式，延长编码的时间，以保证程序的稳定性。（评测在<a title="异步+Vector版本的JPEG编码器" href="http://q.pnq.cc/archives/307">这里</a>）
<h2>3.图片质量</h2>
<img class="alignnone size-medium wp-image-505" title="iblrst00076625" src="http://q.pnq.cc/wp-content/uploads/2011/03/iblrst00076625-500x332.jpg" alt="" width="500" height="332" />

Flash内置的最好的图片缩小算法（用BitmapData.draw，并将smoothing参数设为true），在缩小图片的时候容易产生锯齿。因此我改写了<a href="http://jacwright.com/">Jacwright</a>提供的<a href="http://code.google.com/p/jacwright/source/browse/trunk/flash/jac/src/jac/image/ImageUtils.as">缩小算法</a>，图片质量的问题解决，但代价是性能又降低了一些。
<h2>4.安全限制</h2>
<img class="alignnone size-medium wp-image-511" title="rad600-02833372s" src="http://q.pnq.cc/wp-content/uploads/2011/03/rad600-02833372s-500x333.jpg" alt="" width="500" height="333" />

Flash10.0之后，增加了一个安全限制——当URLLoader以标准文件上传的方式发送POST请求的时候，需要由用户的UI操作（鼠标点击或按键事件）触发。因为我们对用户的图片做了处理，已经无法再通过FileReference上传，只能通过URLLoader。这个安全性限制规定每次发起一个上传文件的URLLoader请求，都必须让用户点击一下鼠标才可以。如果用户选择了20张图片，就要点击20次鼠标。这显然是无法接受的。因此我们放弃了用标准文件上传，采用普通post形式。代价是失去了对上传进度的跟踪，不知道文件上传的百分比；同时服务器端也需要改造。
<h2>改变</h2>
最近，我们做了一个决定：开发一个类似功能的ActiveX控件，替代Flash作为图片上传的主要解决方案。ActiveX的优势是性能，不足之处在于只能在Windows+IE浏览器中使用，但实际上我们的Flash上传目前也只能在IE中使用。Flash真的适合像阿里巴巴这样的网站使用吗？闭源和性能是Flash最大的问题。但在HTML5被广泛支持前，Flash和传统Ajax还是我们最主要的富客户端应用开发技术，相对于ActiveX、Silverlight、JavaFX、Gear等技术来说，Flash还是有安装率优势的。我们看到Adobe最近在新功能开发方面非常给力，值得称赞，但基础的功能的持续完善对开发者也同样重要。目前Flash依然是我们很重要的RIA技术，但是HTML5完全到来的那一天，现在很难说。

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-03-31T00:00:00-07:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/03/25/ubuntu-start-vm-fast/">
		
			如何一键启动Virtualbox虚拟机</a>
	</h2>
	<div class="entry-content">
		<img class="alignnone size-full wp-image-491" title="Screenshot-2" src="http://q.pnq.cc/wp-content/uploads/2011/03/Screenshot-2.jpg" alt="" width="865" height="136" />
现在用Ubuntu或者Mac的人越来越多了，但很多情况下还是离不开Windows，所以大多数人都是安装了Virtualbox，在VBox里面运行Windows虚拟机。

你是怎样启动Windows虚拟机的呢？是不是
1. 运行Virtualbox 2. 点选虚拟机的图标 3.点“启动”

那么可以考虑一下给单个虚拟机创建快捷方式，提高工作效率。别小看这点时间哦，每天节约下来的时间不可小视呢！

在桌面/Dock上创建一个程序快捷方式:
<code>/usr/bin/VBoxManage startvm 虚拟机名称</code>

例如我的虚拟机叫做XP，那么这个命令就是
<code>/usr/bin/VBoxManage startvm XP</code>

不同的系统可能VBoxManage所在的地方不一样，用这个命令查找VBoxManage所在路径：
<code>which VBoxManage</code>

至于怎么创建快捷方式，可以参考网上的教程。这是我的Ubuntu上的效果：

<img class="alignnone size-full wp-image-490" title="Virtualbox shortcut" src="http://q.pnq.cc/wp-content/uploads/2011/03/Screenshot-3.jpg" alt="" width="865" height="725" />

ps. 图标是在<a href="http://www.iconfinder.net" target="_blank">iconfinder</a>找到的

&nbsp;

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-03-25T00:00:00-07:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/03/24/crontab/">
		
			Crontab无效的原因分析</a>
	</h2>
	<div class="entry-content">
		有时候会发生这样的现象，命令是可以在shell中正常运行的，但添加到crontab中定时运行的时候，就发生一些异常的事情。（如果还不知道 <a href="http://baike.baidu.com/view/1229061.html?fromTaglist">Crontab</a> 是什么的话，可以看一下<a href="http://baike.baidu.com/view/1229061.html?fromTaglist">这里</a>先）

比如我今天在目录/home/ued66/asproj-builder 下写了一个<em> build-all.sh</em>:
<code>svn up <span style="color: #888888;">#更新代码</span>
./compile.rb --all &gt;&gt; ./log/run.log <span style="color: #999999;">#编译，并将结果记录</span></code>

在shell中运行这个命令是正常的：
<code>/home/ued66/asproj-builder/build-all.sh</code>

crontab中这样写：
<code>*/5 * * * * /home/ued66/asproj-builder/build-all.sh</code>
(为了测试方便，设成每5分钟运行一次，实际是每天运行一次足矣）

虽然是同个命令，但是compile.rb却没有被正确调用。

经过调试，发现问题有两个：

<strong>1. 路径问题</strong>
既然用了相对路径，必须要把当前目录设置正确。把crontab写成这样：
<code>*/5 * * * * cd /home/ued66/asproj-builder &amp;&amp; ./build-all.sh</code>

<strong>2. 环境问题</strong>
compile.rb 是用ruby写的一个脚本，而我的ruby程序是用源码编译安装的，安装目录是/usr/local/ruby。compile.rb的第一行是
<span style="color: #ff0000;"><code>#!/usr/bin/env ruby</code></span>
这是告诉shell使用ruby来执行这个脚本。但问题在于crontab运行的时候是没有加载用户环境变量的，“which ruby“运行结果为空也验证了这点。所以compile.rb不能被正确执行也很好理解了。

最后把build-all.sh写成这样，问题解决：
<code><span style="color: #999999;">#!/bin/sh</span>
svn up
<span style="color: #ff0000;"><strong>/usr/local/ruby/bin/ruby</strong></span> compile.rb --all &gt;&gt; ./log/run.log</code>

看着程序自动运作起来，非常开心啊！

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-03-24T00:00:00-07:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/03/18/virtualbox-bridge-network/">
		
			Virtualbox 网络桥接不起作用？试试装增强功能</a>
	</h2>
	<div class="entry-content">
		今天晚上在Ubuntu的服务器上用Virtualbox安装了一个Windows 7的虚拟机，一切都好，但在网络配置的时候遇到了问题。网卡选择桥接（Bridge）模式，运行时能（从DHCP服务器）得到ip地址，却无法上网。外部的计算机也访问不了该ip。

Google之，尝试了很多方法，都没有效果。

最后偶然发现，安装完增强功能包之后，居然桥接模式就正常了。进一步证明，这个增强功能包是必备的东东。

安装增强功能包，一开始是从Virtualbox菜单中安装，发现下载速度太慢。在apt里面搜到原来有个包：virtualbox-guest-additions，所以先执行这句：
<code>sudo apt-get install virtualbox-guest-additions</code>

然后再到VB虚拟机里面点安装增强功能，可以节约一点时间。

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-03-18T00:00:00-07:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2010/10/30/flash-fake-sandbox-security-problem/">
		
			Flash在某些多标签浏览器中的“伪沙箱”问题</a>
	</h2>
	<div class="entry-content">
		<p><a href="http://q.pnq.cc/wp-content/uploads/2010/10/sandbox.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="sandbox" border="0" alt="sandbox" src="http://q.pnq.cc/wp-content/uploads/2010/10/sandbox_thumb.png" width="479" height="367"></a></p> <p>在Flash播放器运行时，将不同来源的资源划分到独立的沙箱(sandbox)内，不同沙箱之间不能彼此操作数据（除非目标沙箱做过一些设置，授权其他沙箱可访问），这就是Flash的跨沙箱问题。当Flash文件(.swf) 和页面(.html)不在同一个域名下时，如果不经过Flash内部声明System.allowDomain，html无法访问flash定义的接口；不经过html设置allowScriptAccess为&#8217;always&#8217;，Flash也无法调用页面上的js函数。</p> <p>那么如果html和flash都设置了互相可以访问，是否Flash和html之间就可以互相访问了呢？理论上是的，然而实际上却不是。<img style="border-bottom-style: none; border-right-style: none; border-top-style: none; border-left-style: none" class="wlEmoticon wlEmoticon-brokenheart" alt="破碎的心" src="http://q.pnq.cc/wp-content/uploads/2010/10/wlEmoticon-brokenheart.png"></p> 
		
		<a href="/blog/2010/10/30/flash-fake-sandbox-security-problem/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-10-30T00:00:00-07:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/2/" class="prev">Prev</a>
    
    
        <a href="/blog/page/4/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2018

    qhwa

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'qhwa';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-49131235-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>